(function(){jQuery.fn.block=function(args){args=!jQuery.isPlainObject(args)?{action:args}:args;args=jQuery.extend({action:"create",top:null,right:null,bottom:null,left:null,callback:jQuery.noop},args);if(!jQuery("body").data("block:loaded")){jQuery("head").append("<style>				.overlay { display:block; position:absolute; top:0; right:0; bottom:0; left:0; z-index:99999999999; }				body > .overlay { position:fixed; }				body > .overlay.custom-position { position:absolute; }				.overlay-wrapper { position:absolute; top:50%; left:50%; z-index:2; }				.overlay-content { position:relative; left:-50%; width:100%; height:100%; border: 10px solid rgba(0,0,0,0.2); border-radius: 10px; }				.custom-position-horizontal .overlay-content { left:0; }				.overlay-background { position:absolute; top:0; left:0; width:100%; height:100%; background:#000; opacity:0.6; filter:alpha(opacity=60); z-index:1; }				.overlay .lightbox-wrapper { position: relative; max-width:750px !important; background: #fff; }				.overlay .lightbox-wrapper .lightbox-header { padding:14px 0 14px 35px; }				.overlay .lightbox-wrapper .lightbox-header h4 { margin:0; padding:0; font:normal 26px arial; line-height:53px; color:#000; }				.overlay .lightbox-wrapper .lightbox-header p { margin:5px 0 0 0; padding:0; font:normal 13px arial; }				.overlay .lightbox-wrapper .lightbox-close { position:absolute; top: -13px; right:-12px; width:27px; height:30px; text-indent:-9999px; background:transparent url('//int.imguol.com/comentarios/noticias/fechar.png') no-repeat 0 0; cursor:pointer; }				.overlay-content { overflow: visible !important; width: 737px !important; }				::-webkit-input-placeholder { color: #999; }				:-moz-placeholder { color: #999; }				::-moz-placeholder { color: #999; }				:-ms-input-placeholder { color: #999; }				.overlay .babel-login input.text:focus { outline: 0; }				/* Adaptação para telas mobile */				@media screen and (max-width: 768px) {					.overlay-wrapper{ top: 2%; width: 100%; }					.overlay-content{ width: 90% !important; margin-left: 5%; border: 0; }					.overlay .babel-login.login .half-block { padding: 0; width: 95%; padding: 5% 0 0 5%; margin-bottom: 10px; }					.overlay .babel-login.login .half-block.separator { width: 100%; }					.overlay .babel-login.login .half-block.register { padding: 0; border: 0; padding-top: 5%; border-top: 1px solid #e6e6e6; }					.overlay .babel-login.login .half-block.login h5 { display: none; }					.overlay .lightbox-wrapper .lightbox-header { padding: 0; padding-left: 5%; }					.overlay .babel-login.login .half-block input.button { width: 32%; }					.overlay .babel-login.login .half-block .text { width: 87%; }					.overlay .babel-login.login .half-block .text.pass { width: 55%; float: left; }					.overlay .babel-login.login .half-block { height: auto !important; }				}				@media screen and (max-width: 768px) and (max-height: 480px) {					.overlay .lightbox-wrapper .lightbox-header h4 { font-size: 18px; padding: 5px; line-height: 28px; }					.overlay .babel-login input.text { height: 21px; line-height: 24px !important; }					.overlay .babel-login.login .half-block input.button { height: 23px; line-height: 25px; }					.overlay .babel-login.login .half-block.register { padding-top: 15px; }					.overlay .babel-login.login .half-block h5 { font-size: 1em; }					.overlay .babel-login.login .half-block .cadastro-button { height: 26px; line-height: 29px; }					.overlay .babel-login.login .half-block .babel-social-login li { width: 30px; height: 30px; background-size: 60px; }					.overlay .babel-login.login .half-block .babel-social-login li.twitter { background-position: -30px 0; }					.overlay .babel-login.login .half-block h5 { margin-bottom: 10px; }				}			</style>");jQuery(".overlay .lightbox-close, .overlay-background").live("click",function(evt){jQuery(evt.target).parents(".overlay").parent().block("close");});jQuery("body").data("block:loaded",true);}var content;var _isBlockedAccess=document.getElementsByTagName("body")[0].getAttribute("data-blocked")=="true";function showContent(elem,content){var $elem=jQuery(elem),history=$elem.data("block:history")||[];html='<span class="overlay">						<div class="overlay-wrapper">							'+(args.content?'<div class="overlay-content">'+content+"</div>":"")+'						</div>						<span class="overlay-background"></span>					</span>';function getContent(content){if(!content.jquery){content=jQuery(content);}var $tempWrapper=jQuery('<div class="overlay"/>').css("overflow","hidden").appendTo("body"),$tempContent=jQuery("<div/>").css({"width":"auto","float":"left"}).appendTo($tempWrapper),$content=jQuery(content),$tempElem=$content.appendTo($tempContent),width=$tempElem.outerWidth(),height=$tempElem.outerHeight();$tempWrapper.remove();return{width:width,height:height,$element:$content};}if(!$elem.is("body")){$elem.data("oldposition",$elem.css("position")).css("position","relative");}if(!$elem.is(":has(.overlay)")){var content=getContent(content),$html=jQuery(html).hide(),$overlayWrapper=jQuery(".overlay-wrapper",$html),isCustomHorizontalPosition=args.left!==null||args.right!==null,isCustomVerticalPosition=args.top!==null||args.bottom!==null,isCustomPosition=isCustomHorizontalPosition||isCustomVerticalPosition;if(window.innerWidth>768){jQuery(".overlay-content",$html).css({height:!isCustomVerticalPosition?content.height:"100%",marginTop:args.top===null?(-1*content.height/2)+"px":0});}else{setTimeout(function(){jQuery(".overlay-content").css({});},100);}jQuery.each(["top","right","bottom","left"],function(index,position){if(args[position]!==null){$overlayWrapper.css(position,args[position].toString().replace(/px$/,"")+"px");}});if(isCustomPosition){$html.addClass("custom-position");if(isCustomHorizontalPosition){$html.addClass("custom-position-horizontal");}if(isCustomVerticalPosition){$html.addClass("custom-position-vertical");}}$html.appendTo($elem).fadeIn(1000,"swing");history=[];}else{var $overlayContent=jQuery(".overlay-content",$elem),futureContent;history.push(jQuery("> *",$overlayContent));futureContent=getContent(content);$overlayContent.queue("block:change",function(){jQuery(".lightbox-wrapper",this).animate({opacity:0},250,"swing",function(){$overlayContent.dequeue("block:change");});}).queue("block:change",function(){jQuery(this).animate({width:futureContent.width+"px"},250,"swing",function(){jQuery(this).dequeue("block:change");});}).queue("block:change",function(){jQuery(this).animate({marginTop:!_isBlockedAccess?(-1*futureContent.height/2)+"px":0,height:futureContent.height+"px"},250,"swing",function(){jQuery(this).dequeue("block:change");});}).queue("block:change",function(){futureContent.$element.css("opacity",0);jQuery("> *",this).replaceWith(futureContent.$element);jQuery(this).dequeue("block:change");}).queue("block:change",function(){jQuery(".lightbox-wrapper",this).animate({opacity:1},250,"swing",function(){$overlayContent.dequeue("block:change");});}).queue("block:change",args.callback).dequeue("block:change");}}if("create"===args.action){content='	<div class="lightbox-wrapper">							<p class="lightbox-close"><span>Fechar</span></p>							'+(args.title?'								<div class="lightbox-header">									<h4>'+args.title+"</h4>									"+(args.description?"<p>"+args.description+"</p>":"")+"								</div>							":"")+'							<div class="lightbox-content">'+args.content+"</div>						</div>";}jQuery(this).each(function(){var $this=jQuery(this),history=$this.data("block:history")||[];switch(args.action){case"create":$this.data("block:hidden-elems",jQuery("embed",$this).hide());showContent(this,content);break;case"back":if(history.length){showContent(this,history.pop());break;}case"close":jQuery(".overlay",$this).fadeOut(1000,"swing",function(){if(!$this.is("body")){$this.css("position",$this.data("oldposition")).removeData("oldposition");}if($this.data("block:hidden-elems")){$this.data("block:hidden-elems").show();$this.removeData("block:hidden-elems");}$this.trigger("block:close");jQuery(this).remove();});break;case"resize":(function(){var $overlayContent=jQuery(".overlay .overlay-content"),oldHeight=$overlayContent.css("height"),newHeight=$overlayContent.css("height","").outerHeight();$overlayContent.css("height",oldHeight).animate({height:newHeight},"slow","swing");})();break;}$this.data("block:history",history);});return this;};Controller={_config:null,_isSupport:true,init:function(args){if(!this.supportBrowser()){this._isSupport=false;}args=jQuery.extend({social:true,showButtons:true,bound:false,portal:"uol"},args);if(!this._config){jQuery(window).bind(this.Events);}jQuery.BabelCore.User.persist({social:args.social});this._config=args;Markup.init(args);},login:function(arg){var parent=this,deferred=this._loginDeferred;function reset(){deferred.reject();parent._loginDeferred=null;}function resolve(){deferred.resolve();if(!Markup.LightBox.isChanging()){Markup.LightBox.close();}}if(!deferred){this._loginDeferred=deferred=jQuery.Deferred().fail(function(){reset();});}if(arg&&jQuery.isPlainObject(arg)){resolve();}else{if(deferred.state()==="pending"){function showLightbox(){var actions={"logged-out":function(){Markup.LightBox.show("login",{social:parent._config.social,bound:parent._config.bound});},"need-username":function(){Markup.LightBox.show("nickname",{avatar:jQuery.BabelCore.User.current().user?jQuery.BabelCore.User.current().user.avatarUrl:undefined});},"has-user":function(){resolve();Markup.LightBox.close();}};actions[jQuery.BabelCore.User.state()]();}if(false!==arg){showLightbox();}Markup.LightBox.onClose(function(){reset();});}else{if(false===arg){reset();}}}return deferred.promise();},supportBrowser:function(){var support,browser={},userAgent=navigator.userAgent.toLowerCase();if(support=userAgent.match(/msie ([\d.]+)/)){browser.ie=support[1].split(".");return(browser.ie[0]<9)?false:true;}else{if(support=userAgent.match(/android ([\d.]+)/)){browser.android=support[1].split(".");return(browser.android[0]<3&&browser.android[1]<4)?false:true;}else{if(support=userAgent.match(/version\/([\d.]+).*safari/)){browser.safari=support[1].split(".");return(browser.safari[0]<5||(browser.safari[0]==5&&browser.safari[1]==0))?false:true;}else{return true;}}}},Events:{"babel:login":function(evt,result){Controller.login(result);Markup.User.login({username:result.user.username,avatar:result.user.avatarUrl,network:result.user.socialNetwork,author:result.user.uniqueId,replyNotification:result.user.replyNotification});jQuery(window).dequeue("babel:login");},"babel:need-nickname":function(evt){if(Markup.LightBox.isOpen()){Markup.LightBox.show("nickname",{avatar:jQuery.BabelCore.User.current().user?jQuery.BabelCore.User.current().user.avatarUrl:undefined});}else{if(location.href.indexOf("beta")>=0||location.href.indexOf("forum.jogos")>=0){setTimeout(function(){Markup.LightBox.show("login");Markup.LightBox.show("nickname",{avatar:jQuery.BabelCore.User.current().user?jQuery.BabelCore.User.current().user.avatarUrl:undefined});},500);}}},"babel:logout":function(evt){Controller.login(false);Markup.User.logout({showButtons:Controller._config.showButtons});},"babel:recovery":function(evt){jQuery(".overlay .half-block.login").hide();jQuery(".overlay .half-block.password-recovery").show();},"babel:end-recovery":function(evt){jQuery(".overlay .half-block.login").show();jQuery(".overlay .half-block.password-recovery").hide();}},Actions:{doLogin:function(evt){evt.preventDefault();jQuery.BabelCore.User.login({user:jQuery("input[name='user']",evt.target).val(),pass:jQuery("input[name='pass']",evt.target).val()});},doOpenLoginBox:function(evt){Controller.login();},doFacebookLogin:function(evt){var existBound=(Controller._config?Controller._config.bound:false);jQuery.BabelCore.User.Social.Facebook.login({bound:existBound});},doTwitterLogin:function(evt){jQuery.BabelCore.User.Social.Twitter.login();},doChangeAvatar:function(evt){evt.preventDefault();function changeAvatar(){Controller.login().done(function(){jQuery.BabelCore.User.Avatar.save({avatar:jQuery("input[name='avatar']:checked",evt.target).val()});});}if(jQuery.BabelCore.User.isLogged()){changeAvatar();}else{jQuery(window).queue("babel:login",function(){changeAvatar();jQuery(window).dequeue("babel:login");});}Markup.LightBox.back(function(){Markup.LightBox.Nickname.changeAvatar(jQuery(".radio.checked img",evt.target).attr("src"));});},doUserAvatar:function(evt){jQuery.BabelCore.User.Avatar.galleries({callback:function(response){Markup.LightBox.show("avatar");Markup.LightBox.Avatar.init({galleries:response.result,change:function(gallery){jQuery.BabelCore.User.Avatar.gallery({gallery:gallery,callback:function(response){Markup.LightBox.Avatar.avatares(response.result);}});}});}});},doChangeNickname:function(evt){evt.preventDefault();var showMessageTime=10000;if(jQuery(evt.target).data("interval")){window.clearInterval(jQuery(evt.target).data("interval"));}jQuery.BabelCore.User.username({username:jQuery("input[name='nickname']:text",evt.target).val(),triggerDelay:showMessageTime,callback:function(response){var interval;Markup.LightBox.Nickname.Message.message(response.code);if(200==response.code){interval=window.setTimeout(function(){Controller.login(response);},showMessageTime);Markup.LightBox.Nickname.disable();}else{interval=window.setTimeout(Markup.LightBox.Nickname.Message.close,showMessageTime);}jQuery(evt.target).data("interval",interval);}});},doCloseLightbox:function(evt){evt.preventDefault();Markup.LightBox.close();},doLogout:function(evt){jQuery.BabelCore.User.logout();}}},Markup={init:function(args){jQuery('<link rel="stylesheet" type="text/css" href="//jsuol.com.br/c/babel-core/login.css" />').appendTo("head");this.User.init(args);this.CheckBoxes.init();},CheckBoxes:{get:function(elem){return jQuery("input:checkbox",jQuery(elem).closest(".checkbox:not(input:checkbox)"));},check:function(elem,checked){this.get(elem).attr("checked",checked).change();},refresh:function(){jQuery(".checkbox:not(input:checkbox):has(input:checkbox), .radio:not(.input:radio):has(input:radio)",".babel-login").each(function(){jQuery(this).addClass(jQuery("input:checkbox, input:radio",this).is(":checked")?"checked":"unchecked");});},init:function(){if(jQuery("body").data("babel-login:checkboxes:inited")){return;}this.refresh();var $checkboxWrapper=jQuery(".checkbox:not(input:checkbox):has(input:checkbox), .radio:not(.input:radio):has(input:radio)",".babel-login").live("click",function(evt){if(evt.isDefaultPrevented()){return;}var $target=jQuery(evt.target).closest(".checkbox, .radio"),$checkbox=jQuery("input:checkbox, input:radio",$target);$checkbox.attr("checked",!$checkbox.is(":checked")).change();});jQuery("input:checkbox, input:radio",$checkboxWrapper).live("change",function(evt){var $checkbox=jQuery(evt.target),$wrapper=$checkbox.parents(".checkbox:not(input:checkbox), .radio:not(input:radio)");if($checkbox.is(":checked")){if($checkbox.is(":radio")){jQuery("*.radio.checked:has(input:radio[name='"+$checkbox.attr("name")+"'])").removeClass("checked").addClass("unchecked");}$wrapper.addClass("checked").removeClass("unchecked");}else{$wrapper.removeClass("checked").addClass("unchecked");}});jQuery("body").data("babel-login:checkboxes:inited",true);}},User:{init:function(args){args=jQuery.extend({element:null},args);if(args.element){args.element.html(this._markup(args));}if(!args.showButtons){jQuery(".babel-status",args.element).hide();}},_toggleUser:function(args){args.hide.fadeOut(500,function(){args.show.fadeIn(500);});},change:function(args){window.setTimeout(function(){jQuery(".babel-status .user span[rel='username']").html(args.username);},args.username?0:1500);},login:function(args){this.change(args);if(jQuery(".babel-status").is(":visible")){this._toggleUser({show:jQuery(".babel-status .user"),hide:jQuery(".babel-status .login")});}else{jQuery(".babel-status .user").css("opacity",0.1).show();jQuery(".babel-status").slideDown(500,function(){jQuery(".user",this).animate({opacity:1},500);});}},logout:function(args){args=jQuery.extend({showButtons:true},args);this.change({username:"",avatar:"//forum.imguol.com/forum/themes/esporte/images/nopic.gif"});if(args.showButtons){this._toggleUser({hide:jQuery(".babel-status .user"),show:jQuery(".babel-status .login")});}else{jQuery(".babel-status .user").animate({opacity:0.1},500,function(){jQuery(".babel-status").slideUp(500);});}},_markup:function(args){args=jQuery.extend(true,{showButtons:true,customMarkup:false,labels:{login:"Participar com:",logout:"Sair"}},args);if(args.customMarkup){return eval(args.customMarkup);}else{if(args.portal=="bol"){return'<div class="babel-status">							'+(args.showButtons?'							<div class="login">								<h3 rel="open-login-box" class="comentar">Comentar <span class="">&raquo;</span></h3>							</div>							':"")+'							<p class="user"><span class="" rel="username"></span> <span class="logout" rel="logout">'+args.labels.logout+"</span></p>						</div>";}else{return'<div class="babel-status">							'+(args.showButtons?'							<div class="login">								<h3>'+args.labels.login+"</h3>								<ul>									"+(args.social?'<li class="facebook" title="Facebook" rel="facebook-login">Facebook</li>									'+((!args.bound&&Controller._config.portal=="uol")?'<li class="twitter" title="Twitter" rel="twitter-login">Twitter</li>':""):"")+'									<li class="'+args.portal+'" title="Perfil '+args.portal.toUpperCase()+'" rel="open-login-box">Perfil '+args.portal.toUpperCase()+"</li>								</ul>							</div>							":"")+'							<p class="user"><span class="" rel="username"></span> <span class="logout" rel="logout">'+args.labels.logout+"</span></p>						</div>";}}}},LightBox:{_overlay:null,onClose:function(callback){jQuery("body > .overlay .lightbox-close").bind("click",callback);},contents:{login:function(){return{title:"Acesse sua conta",description:"",content:'<div class="babel-login '+Controller._config.portal+" login"+(!this.social?" no-social":"")+'">										<div class="half-block login">											<h5>Faça seu login</h5>											<p>'+((Controller._config.portal=="bol")?'<span class="bol icon">BOL, </span><span class="uol icon">UOL, </span>':'<span class="uol icon">UOL, </span><span class="bol icon">BOL, </span>')+'<span class="folha icon">Folha, </span><span class="zip icon">ZIP </span> <span class="other">ou qualquer outro e-mail cadastrado em produtos'+((Controller._config.portal=="bol")?"":" UOL")+'</span></p>											<form rel="login" action="//acesso.uol.com.br/login.html?skin='+Controller._config.portal+"&dest=REDIR|"+encodeURIComponent(location.href)+'" method="post">												<fieldset>													<p><input type="email" class="text" name="user" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'E-Mail\'" placeholder="E-Mail" id="babel-login-user" rel="user-field" autocomplete="off"/></p>													<p><input placeholder="Senha" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'Senha\'" type="password" class="text pass" name="pass" id="babel-login-pass" rel="pass-field" autocomplete="off" /><input type="submit" class="button" value="Entrar"/></p>													<p class="login-error">E-mail ou senha incorretos</p>													<p class="link-paragraph"><a href="#" onclick="jQuery(\'.overlay\').trigger(\'babel:recovery\');return false;" rel="babel:recovery" target="_blank" class="esqueci-senha">Esqueci minha senha</a></p>												</fieldset>											</form>										</div>										<div class="half-block password-recovery"  style="display:none;">											<h5>Esqueci minha senha						                     	<p class="note">Qual seu serviço de e-mail?</p>						                     </h5>						                     <ul class="logo_list">						                     	<li class="logo_uol"><a href="//sac.uol.com.br/usuario/esqueci-senha.html" target="_blank">UOL</a></li>						                     	<li class="logo_bol"><a href="//sac.uol.com.br/usuario/esqueci-senha.html?skin=bol" target="_blank">BOL</a></li>						                     	<li class="logo_folha"><a href="//sac.uol.com.br/usuario/esqueci-senha.html?skin=folha" target="_blank">Folha</a></li>						                     	<li class="logo_zip"><a href="//sac.uol.com.br/usuario/esqueci-senha.html?skin=zipmail" target="_blank">Zipmail</a></li>						                     	<li class="logo_outros"><a href="//sac.uol.com.br/usuario/esqueci-senha.html" target="_blank">Outros*</a></li>						                     </ul>						                     <p class="note outros">*contas como Gmail, Yahoo!, Hotmail etc.</p>						                     <p class="link-paragraph"><a href="#" onclick="jQuery(\'.overlay\').trigger(\'babel:end-recovery\');return false;" target="_blank" class="fazer-login">Ou faça login para comentar</a></p>						                </div>										<div class="half-block separator register">											<h5>Não é cadastrado?</h5>											<p><a href="//cadastro.uol.com.br/indexb.html?'+((Controller._config.portal=="bol")?"skin=bol":"skin=comentarios/visitor")+"/pf&dest=REDIR|"+location.href+'" target="_blank" class="cadastro-button">Criar '+((Controller._config.portal=="bol")?"BOL Mail":"conta")+" grátis</a></p>											"+(this.social?"											<h5>ou faça login "+((!this.bound&&Controller._config.portal=="uol")?"pelas redes sociais":"pelo Facebook")+'</h5>											<ul class="babel-social-login">												<li class="facebook" rel="facebook-login">Facebook</li>												'+((!this.bound&&Controller._config.portal=="uol")?'<li class="twitter" rel="twitter-login">Twitter</li>':"")+"											</ul>											":"")+'<p class="link-paragraph">Leia os <a href="'+((Controller._config.portal=="bol")?"//sobre.bol.com.br/regras-de-uso.jhtm":"//regras.uol.com.br/index.html?apiCadLink=78da458fbd4ec3301cc42fad80162af131c08a10b303a2104a0760a9284a6160431df8d7368dc1a983edb41103134fc073f010453c012befc01330c0102a6eb9e57e77bad72fcc398baddc68e60c57a4999376acb8644e3aa7cc885d958e524105f35d3438693d207edfd166d2c57c4ac5e9509ea3ee552a9da7348b5123cea5734a78acc57734a650d368185e79ab46c3768cdaace3014f0862d4336bc64a48eb3c964b20f74a873dcada45062000aacf4010febcf41f3d36a368b77910b522da11a279db927418ed4ac9077bb4774bfb42786c27de67476128646a586e34e32665031bce9659e253ed2c36ee684c2cf74ab3588deea5382397f4286b4e2ffa2b7afa5d41708da5f2cfa515d21616abffcc5f7a6ee1f3ed7dfde6a38a4a078bda90e810f7c67651f789952e315a14d9f10900a031a90158018002bffce1793c#ap")+'">termos de uso</a></p>										</div>										<br class="clear" />								  </div>'};},nickname:function(){var display,description;if(location.href.indexOf("beta")>=0||location.href.indexOf("forum.jogos")>=0||Controller._isSupport){display="display:none;";}if(jQuery.BabelCore.User.current().user&&jQuery.BabelCore.User.current().user.userStatus==5){description="O apelido não foi aprovado, pois ele infringe as regras de uso do fórum. Por favor, crie um novo apelido abaixo:";}else{description="Olá você ainda não registrou seu apelido";}return{title:"Complete seu perfil",description:description,content:'	<div class="babel-login nickname">										<div class="middle">											<form rel="change-nickname">												<div class="avatar" style="'+display+'">													<p class="image"><img src="'+(this.avatar||"//forum.imguol.com/forum/themes/esporte/images/nopic.gif")+'" alt="Avatar do usuário" title="Avatar do usuário" /></p>													<p class="button" rel="user-avatar">Mudar avatar</p>												</div>												<fieldset>													<p>														<label for="babel-login-nickname">Apelido*</label> 														<input type="text" class="text" name="nickname" id="babel-login-nickname"/>														<input type="submit" class="button" value="Salvar"/>													</p>													<p>* Seu apelido não poderá ser alterado.</p>												</fieldset>											</form>										</div>										<div class="footer"></div>									</div>'};},avatar:function(){return{title:"Escolha seu avatar",description:"Selecione uma imagem de nossas galerias",content:'	<div class="babel-login avatar">										<form rel="change-avatar">											<div class="galleries">												<select name="gallery"></select>											</div>											<div class="middle">												<div class="images">													<ul></ul>												</div>											</div>											<div class="footer">												<p>													<input type="button" class="cancel button" rel="close-lightbox" value="Cancelar"/>													<input type="submit" class="submit button" value="Salvar"/>												</p>											</div>										</form>									</div>'};}},Nickname:{Message:{show:function(text,className){className=className||"warning";var parent=this,$fieldset=jQuery(".overlay .babel-login.nickname fieldset"),$message=jQuery('<p class="message '+className.toLowerCase()+'">'+text+"</p>");if($fieldset.is(":has(.message)")){$message.queue("babel:message",function(){parent.close(function(){$message.dequeue("babel:message");});});}$message.queue("babel:message",function(){$message.hide().prependTo($fieldset).slideDown("fast","swing");$message.dequeue("babel:message");});$message.dequeue("babel:message");},message:function(code){var returns={200:"Seu apelido foi enviado para moderação, mas você já pode participar",431:"Informações do usuário não encontradas no sistema",432:"Apelido inválido",433:"Usuário esperando por migração",434:"Apelido já existente",435:"Apelido não está pode ser alterado",436:"Produto não encontrado"},message;if(!(code in returns)){message="Erro desconhecido: "+code;}else{message=returns[code];}this.show(message,200==code?"warning":"error");},close:function(callback){callback=callback||jQuery.noop;jQuery(".overlay .babel-login.nickname fieldset .message").slideUp("fast","swing",function(){jQuery(this).remove();callback.apply(this,arguments);});}},changeAvatar:function(avatar){jQuery(".overlay .babel-login.nickname .avatar img").attr("src",avatar);},disable:function(){jQuery(".overlay .babel-login.nickname").addClass("disabled").bind("submit",function(evt){evt.preventDefault();});}},Avatar:{galleries:function(galleries){var html="";jQuery.each(galleries,function(index,gallery){html+='<option value="'+gallery.id+'">'+gallery.name+"</option>";});jQuery(".overlay .babel-login.avatar select").html(html);},avatares:function(avatares){var html="";jQuery.each(avatares,function(index,avatar){html+='	<li class="radio">											<img src="'+avatar.url+'" alt="Avatar do usuário" title="Mudar avatar" />											<input type="radio" name="avatar" value="'+avatar.id+'"/>											<span class="overlay"></span>											<span class="checked-image"></span>										</li>';});jQuery(".overlay .babel-login.avatar .images ul").html(html);},init:function(args){args=jQuery.extend({galleries:[],change:jQuery.noop},args);var parent=this;window.setTimeout(function(){parent.galleries(args.galleries);jQuery(".overlay .babel-login.avatar select").change(function(){args.change(jQuery(this).val());}).change();},1000);}},call:function(args){var isMobile=window.Config&&window.Config.Comentario&&window.Config.Comentario.platform&&window.Config.Comentario.platform==="mobile",isOpenAction=(jQuery.isPlainObject(args)?args.action||"open":args)==="open";if(isMobile&&isOpenAction&&!_isBlockedAccess){args=jQuery.extend({top:jQuery("#comentarios").position().top+"px",left:"1px",right:"10px"},args);}jQuery("body").block(args);},isChanging:function(){return jQuery(".overlay").is(":has(:animated)");},isOpen:function(){return jQuery("body").is(":has(.overlay:visible)");},show:function(type,context){if(!type in this.contents){return;}context=context||{};Markup.LightBox.call(this.contents[type].call(context));},back:function(callback){Markup.LightBox.call({action:"back",callback:callback});},close:function(){Markup.LightBox.call("close");}}};jQuery(document).delegate(".babel-login *, .babel-status *, .rml-login *, .mascara","click submit",function(evt){var $target=jQuery(evt.target).closest("*[rel]"),actionName="do"+($target.attr("rel")||"").replace(/(?:^|-)([a-z])/g,function(pattern,letter){return letter.toUpperCase();}),ret;if($target.is("form")&&"submit"!==evt.type){return;}if(actionName in Controller.Actions){ret=Controller.Actions[actionName].apply(this,arguments);evt.stopPropagation();}return ret;});jQuery(document).delegate(".babel-login *, .babel-status *","focus",function(evt){var $target=jQuery(evt.target).closest("*[rel]"),actionName="focus"+($target.attr("rel")||"").replace(/(?:^|-)([a-z])/g,function(pattern,letter){return letter.toUpperCase();}),ret;if(actionName in Controller.Actions){ret=Controller.Actions[actionName].apply(this,arguments);evt.stopPropagation();}});jQuery(document).delegate(".babel-login *, .babel-status *","blur",function(evt){var $target=jQuery(evt.target).closest("*[rel]"),actionName="blur"+($target.attr("rel")||"").replace(/(?:^|-)([a-z])/g,function(pattern,letter){return letter.toUpperCase();}),ret;if(actionName in Controller.Actions){ret=Controller.Actions[actionName].apply(this,arguments);evt.stopPropagation();}});jQuery(".lightbox-close").live("click",function(){references("modal-login-fechar-botao");});jQuery(".overlay-background").live("click",function(){references("modal-login-fechar-clique-fora");});jQuery('.login input[type="submit"]').live("click",function(){references("modal-login-entrar-na-conta");});jQuery("li.facebook").live("click",function(){references("modal-login-logar-facebook");});jQuery("li.twitter").live("click",function(){references("modal-login-logar-twitter");});jQuery(".cadastro-button").live("click",function(){references("modal-login-criar-conta");});function references(ref){try{window.countClick({component:_isBlockedAccess?"porteira-login-internacional":"",reference:ref});}catch(e){console.error("Função countClick não existe",e.message);}}jQuery.BabelCore=jQuery.BabelCore||{};jQuery.extend(jQuery.BabelCore,{Login:{init:function(args){Controller.init(args);},login:function(){return Controller.login.apply(Controller,arguments);},changeAvatar:function(){return Controller.Actions.doUserAvatar.apply(Controller.Actions,arguments);},changeNickname:function(){return Controller.Actions.doChangeNickname.apply(Controller.Actions,arguments);}}});})();