var moduloPlacarEleicoes={tc:57,replaceCities:{},rtw:location.href.toString().indexOf("rtdev")>-1?"rtdev.uol.com":"rtstation.uol.com",stc:"stc.eleicoes.uol.com",stcCityTime:60000,container:false,cities:[{"id":"92215","name":"ANÁPOLIS","uf":"GO"},{"id":"31054","name":"ARACAJU","uf":"SE"},{"id":"62197","name":"BAURU","uf":"SP"},{"id":"04278","name":"BELÉM","uf":"PA"},{"id":"58041","name":"BELFORD ROXO","uf":"RJ"},{"id":"41238","name":"BELO HORIZONTE","uf":"MG"},{"id":"80470","name":"BLUMENAU","uf":"SC"},{"id":"90514","name":"CAMPO GRANDE","uf":"MS"},{"id":"85898","name":"CANOAS","uf":"RS"},{"id":"56251","name":"CARIACICA","uf":"ES"},{"id":"23817","name":"CARUARU","uf":"PE"},{"id":"13730","name":"CAUCAIA","uf":"CE"},{"id":"85995","name":"CAXIAS DO SUL","uf":"RS"},{"id":"43710","name":"CONTAGEM","uf":"MG"},{"id":"90670","name":"CUIABÁ","uf":"MT"},{"id":"75353","name":"CURITIBA","uf":"PR"},{"id":"63770","name":"DIADEMA","uf":"SP"},{"id":"58335","name":"DUQUE DE CAXIAS","uf":"RJ"},{"id":"81051","name":"FLORIANÓPOLIS","uf":"SC"},{"id":"13897","name":"FORTALEZA","uf":"CE"},{"id":"64254","name":"FRANCA","uf":"SP"},{"id":"93734","name":"GOIÂNIA","uf":"GO"},{"id":"64750","name":"GUARUJÁ","uf":"SP"},{"id":"64777","name":"GUARULHOS","uf":"SP"},{"id":"24570","name":"JABOATÃO DOS GUARARAPES","uf":"PE"},{"id":"81795","name":"JOINVILLE","uf":"SC"},{"id":"47333","name":"JUIZ DE FORA","uf":"MG"},{"id":"66192","name":"JUNDIAÍ","uf":"SP"},{"id":"06050","name":"MACAPÁ","uf":"AP"},{"id":"27855","name":"MACEIÓ","uf":"AL"},{"id":"02550","name":"MANAUS","uf":"AM"},{"id":"76910","name":"MARINGÁ","uf":"PR"},{"id":"66893","name":"MAUÁ","uf":"SP"},{"id":"48658","name":"MONTES CLAROS","uf":"MG"},{"id":"58653","name":"NITERÓI","uf":"RJ"},{"id":"58696","name":"NOVA IGUAÇU","uf":"RJ"},{"id":"24910","name":"OLINDA","uf":"PE"},{"id":"67890","name":"OSASCO","uf":"SP"},{"id":"58777","name":"PETRÓPOLIS","uf":"RJ"},{"id":"77771","name":"PONTA GROSSA","uf":"PR"},{"id":"88013","name":"PORTO ALEGRE","uf":"RS"},{"id":"00035","name":"PORTO VELHO","uf":"RO"},{"id":"25313","name":"RECIFE","uf":"PE"},{"id":"69698","name":"RIBEIRÃO PRETO","uf":"SP"},{"id":"60011","name":"RIO DE JANEIRO","uf":"RJ"},{"id":"88412","name":"SANTA MARIA","uf":"RS"},{"id":"70572","name":"SANTO ANDRÉ","uf":"SP"},{"id":"70750","name":"SÃO BERNARDO DO CAMPO","uf":"SP"},{"id":"58971","name":"SÃO GONÇALO","uf":"RJ"},{"id":"09210","name":"SÃO LUÍS","uf":"MA"},{"id":"56995","name":"SERRA","uf":"ES"},{"id":"71455","name":"SOROCABA","uf":"SP"},{"id":"71510","name":"SUZANO","uf":"SP"},{"id":"57037","name":"VILA VELHA","uf":"ES"},{"id":"57053","name":"VITÓRIA","uf":"ES"},{"id":"39659","name":"VITÓRIA DA CONQUISTA","uf":"BA"},{"id":"59250","name":"VOLTA REDONDA","uf":"RJ"}],config:{},dataCities:{},dataSummary:{},cards:{},forcePollingExtrato:true,myCity:{enabled:false},msieversion:function(){var ua=window.navigator.userAgent;var msie=ua.indexOf("MSIE ");if(msie>0){return(parseInt(ua.substring(msie+5,ua.indexOf(".",msie))));}else{return 0;}return 0;},placeholderIE:function(placeholder){if(moduloPlacarEleicoes.msieversion()==9){$(".suggest-form input[name*=q]").val(placeholder).focus(function(){$(this).val("");});}},ImgError:function(source){source.src=moduloPlacarEleicoes.imagemDefault;source.onerror="";return true;},formatNumber:function(value){value=(value||"").toString();if(/\./.test(value)==true){return value;}var x=value.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"",rgx=/(\d+)(\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,"$1"+"."+"$2");}return x1+x2;},getHtml:function(OBJ){var html='<div class="placar-eleicoes-left placar-eleicoes-resumo">				<div class="placar-eleicoes-parte1">					<div class="mask"></div>					<div class="heading">				      <h3 class="title">ELEIÇÕES 2016 <span class="turno">2ºT</span></h3>				    </div>				    <div class="cities">				      <span class="total">0 cidades</span>				    </div>					<div class="gauge-container">				      <div class="count">				        <div class="count-container">				          <span class="number">0</span>				          <span class="percent">%</span>				        </div>				        <span class="count-label">definidas</span>				      </div>				      <canvas id="canvas-progress" class="canvas-progress" width="85" height="85"></canvas>				    </div>					<div class="summary-counting">						<div id="ap" class="counting-line">							<span class="counting-number"></span>							<span class="counting-label"></span>						</div>						<div id="pe" class="counting-line">							<span class="counting-number"></span>							<span class="counting-label"></span>						</div>						<!--<div id="st" class="counting-line">							<span class="counting-number"></span>							<span class="counting-label"></span>						</div>-->					</div>					<a href="http://click.uol.com.br/?rf=extrato-placar-resumo&pos=extrato-placar-eleicoes&u=http://placar.eleicoes.uol.com.br/2016/2turno/" class="btn-acompanhe-apuracao-completa">						<span>Acompanhe a<br>apuração completa</span>					</a>				</div>				<div class="placar-eleicoes-parte2 suggest-part">					<div class="mask"></div>					<div class="score-my-city">						<p class="tempo-real">Apuração em tempo real</p>						<button class="btn-suggest-form">							<i class="icon-search"></i>							<span class="input">Buscar cidade</span>						</button>						<div class="user-city-container">							<ul class="city-candidates">							{{#cities}}								<li id="{{id}}">{{name}} <span class="estado">{{uf}}</span></li>							{{/cities}}							</ul>						</div>					</div>					<div class="score-city-bars">						<span class="bars">							<span class="bar white"></span>							<span class="number"></span>						</span>					</div>				</div>			</div>			<div class="placar-eleicoes-right placar-eleicoes-cidades">				<ul class="placar-eleicoes-cidades-wrapper">					<li class="linha">						<span class="shadow-left"></span>						<span class="shadow-right"></span>					</li>					<li class="linha">						<span class="shadow-left"></span>						<span class="shadow-right"></span>					</li>					<li class="linha">						<span class="shadow-left"></span>						<span class="shadow-right"></span>					</li>					<li class="linha">						<span class="shadow-left"></span>						<span class="shadow-right"></span>					</li>				</ul>				<span class="arrow-left"></span>				<span class="arrow-right"></span>			</div>';$(".modulo-placar-eleicoes").html(Mustache.render(html,OBJ)).after('<p class="modulo-placar-eleicoes-fonte">Fonte: TSE</p>');},toSlug:function(value){var Accent=/[ÂÁÀÃÄÊÉÈËÎÍÌÏÔÓÒÕÖÛÚÙÜÇÑ\+\-\s]/g;var reA=/[ÂÁÀÃÄ]/g;var reE=/[ÊÉÈË]/g;var reI=/[ÎÍÌÏ]/g;var reO=/[ÔÓÒÕÖ]/g;var reU=/[ÛÚÙÜ]/g;var reC=/[Ç]/g;var reN=/[Ñ]/g;var reMAIS=/\+/g;var reOthers=/[^a-zA-Z0-9_\+]/g;var reSpace=/[ ]/g;var upNome=moduloPlacarEleicoes.unescapeHtmlEncode(value.toLowerCase()).toUpperCase();if(upNome.indexOf("*")+1==upNome.length){upNome=upNome.substr(0,upNome.length-1);}if(upNome.search(Accent)!=-1){upNome=upNome.replace(reSpace,"-");upNome=upNome.replace(reA,"A");upNome=upNome.replace(reE,"E");upNome=upNome.replace(reI,"I");upNome=upNome.replace(reO,"O");upNome=upNome.replace(reU,"U");upNome=upNome.replace(reC,"C");upNome=upNome.replace(reN,"N");upNome=upNome.replace(reOthers,"-");}return upNome.toLowerCase();},unescapeHtmlEncode:function(str){var div=document.createElement("div");div.innerHTML=str;return(div.innerText||div.textContent);},capitalizeName:function(name){var n=moduloPlacarEleicoes.unescapeHtmlEncode(name).toLowerCase().replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase();}).replace(/ ([a-z]{2}) /gi,function(a){return a.toLowerCase();}).replace(/ d([a-z]{1,2}) /gi,function(a){return a.toLowerCase();}).replace(/^&aacute;/,"Á").replace(/^&oacute;/,"Ó").replace(/^&eacute;/,"É").replace(/^&iacute;/,"Í").replace(/ &uacute;/," Ú").replace(/ &aacute;/," Á").replace(/ &oacute;/," Ó").replace(/ &eacute;/," É").replace(/ &iacute;/," Í").replace(/ &uacute;/," Ú").replace(/^Acm /,"ACM ");n=n.replace(/( [xv]?i+[xv]?)/i,function(a){return a.toUpperCase();});if(n=="Dr.deodalto"){n="Dr. Deodalto";}if(n=="Carlos Grana Pt"){n="Carlos Grana";}if(n=="Airton da Cgtb"){n="Airton da CGTB";}if(n.match(/^Prof.josivaldo$/)!==null){n="Prof. Josivaldo";}return n;},suggestItem:function(city){var html='<li data-id="'+city.id+'" data-name="'+city.name+'" data-uf="'+city.uf+'"><span class="item">'+city.name+'</span> <span class="uf">'+city.uf+"</span></li>";return html;},sortByNameLength:function(a,b){var sort=moduloPlacarEleicoes.toSlug(a.name).length<moduloPlacarEleicoes.toSlug(b.name).length?-1:1;return sort;},unsetCookie:function(name,path,domain){if(moduloPlacarEleicoes.getCookie(name)){moduloPlacarEleicoes.setCookie(name,"",-1,path,domain);}},getCookie:function(name){var cookies=document.cookie||"";var pt=cookies.split(";");var value=false;for(var p in pt){var str=pt[p].replace(/^\s+|\s+$/g,"");var s=str.split("=");if(s.length&&s[0]==name){value=s[1];break;}}return value;},setCookie:function(name,value,expires,path,domain){var cookie=name+"="+escape(value)+";";if(expires){if(expires instanceof Date){if(isNaN(expires.getTime())){expires=new Date();}}else{expires=new Date(new Date().getTime()+parseInt(expires)*1000*60*60*24);}cookie+="expires="+expires.toGMTString()+";";}if(path){cookie+="path="+path+";";}if(domain){cookie+="domain="+domain+";";}document.cookie=cookie;},selectMyCity:function(id){moduloPlacarEleicoes.myCity.enabled=true;moduloPlacarEleicoes.myCity.cityId=id;if(!moduloPlacarEleicoes.getCookie("elcu")||moduloPlacarEleicoes.getCookie("elcu")!=id){var city=moduloPlacarEleicoes.findCity(id);moduloPlacarEleicoes.setCookie("elcu",id,35,"/","uol.com.br");var link="https://placar.eleicoes.uol.com.br/2016/2turno/"+city.uf.toLowerCase()+"/"+moduloPlacarEleicoes.toSlug(city.name)+"/";if(window.hasOwnProperty("omtrClickUOL")){window.omtrClickUOL("extrato-placar-busca-cidade",link,"extrato-placar-eleicoes");}location.href=link;}if(moduloPlacarEleicoes.dataCities!=null&&moduloPlacarEleicoes.dataCities.hasOwnProperty("subchannels")&&moduloPlacarEleicoes.dataCities.subchannels.hasOwnProperty(id)){moduloPlacarEleicoes.myCity.values=moduloPlacarEleicoes.dataCities.subchannels[id];moduloPlacarEleicoes.gotMyCity();}else{moduloPlacarEleicoes.getCity(id);}},getData:function(request,callback,callbackName){(function(){console.info("[request]",request);window[callbackName]=callback;var s=document.createElement("script");s.type="text/javascript";s.src=request+(request.indexOf("?")>-1?"&":"?")+"callback="+callbackName;s.charset="utf-8";document.getElementsByTagName("head")[0].appendChild(s);})();},getConfig:function(){moduloPlacarEleicoes.getData("//jsuol.com.br/c/eleicoes/2016/eleicoes-extrato-config.json",function(data){moduloPlacarEleicoes.config=data;var carregarModulo=false;if(moduloPlacarEleicoes.config.hasOwnProperty("configMobile")){if(moduloPlacarEleicoes.config.configMobile.hasOwnProperty("config")){if(moduloPlacarEleicoes.config.configMobile.config.hasOwnProperty("sobrescreve-situacao")){moduloPlacarEleicoes.replaceCities=JSON.parse(moduloPlacarEleicoes.config.configMobile.config["sobrescreve-situacao"]);}if(moduloPlacarEleicoes.config.configMobile.config.hasOwnProperty("exibir-modulo-v1")){if(moduloPlacarEleicoes.config.configMobile.config["exibir-modulo-v1"]=="true"){carregarModulo=true;}}}}if(location.href.indexOf("extrato-eleicoes")>-1){carregarModulo=true;}if(carregarModulo){moduloPlacarEleicoes.loadedConfig();}},"callbackConfig");},getSocketSummary:function(callback){var url="http://"+moduloPlacarEleicoes.rtw+"/sub?id=placar-eleicoes-br-resumo";var callbackName="UOLWebSocketCallback";moduloPlacarEleicoes.getData(url,function(data){moduloPlacarEleicoes.dataSummary=data;moduloPlacarEleicoes.gotSocketSummary();},callbackName);},getSocketData:function(callback){var url="http://"+moduloPlacarEleicoes.rtw+"/sub?id=placar-eleicoes-extratos";var callbackName="UOLWebSocketCallback";moduloPlacarEleicoes.getData(url,function(data){moduloPlacarEleicoes.dataCities=data;moduloPlacarEleicoes.gotSocketData();},callbackName);},getCity:function(cityId){var url="http://"+moduloPlacarEleicoes.stc+"/2016/2turno/"+cityId+"/"+cityId+"_c11.js";moduloPlacarEleicoes.getData(url,function(data){moduloPlacarEleicoes.myCity.values=data;moduloPlacarEleicoes.gotMyCity();window.setTimeout(function(){moduloPlacarEleicoes.getCity(cityId);},moduloPlacarEleicoes.stcCityTime);},"callbackEleicoes");},summary:function(OBJ){$(".placar-eleicoes-resumo .turno").text(OBJ.turno||0);$(".placar-eleicoes-resumo .cities .total").text(OBJ.totalCidades?OBJ.totalCidades+" cidades":0+" cidades");var mostrarAp=true;if(moduloPlacarEleicoes.config){if(moduloPlacarEleicoes.config.hasOwnProperty("configMobile")&&moduloPlacarEleicoes.config.configMobile.hasOwnProperty("config")){if(moduloPlacarEleicoes.config.configMobile.config.hasOwnProperty("placar-iniciado")){if(moduloPlacarEleicoes.config.configMobile.config["placar-iniciado"]!="true"){mostrarAp=false;}}}}if(!mostrarAp){OBJ.ap=0;OBJ.pe=0;OBJ.st=0;}var sr=moduloPlacarEleicoes.tc-OBJ.ap-OBJ.pe;if(sr>0&&(OBJ.ap>0||OBJ.pe>0||OBJ.st>0)){if($(".summary-counting #sr").length){$(".summary-counting #sr .counting-number").text(sr);}else{$(".summary-counting").find("#pe").after('<div id="sr" class="counting-line">					<span class="counting-number">'+sr+'</span>					<span class="counting-label">sem resultado</span>				</div>');}$(".summary-counting").removeClass("sem-resultado");}else{$(".summary-counting").addClass("sem-resultado").find("#sr").remove();}$(".summary-counting #ap .counting-number").text(moduloPlacarEleicoes.formatNumber(OBJ.ap)||0);$(".summary-counting #pe .counting-number").text(moduloPlacarEleicoes.formatNumber(OBJ.pe)||0);$(".summary-counting #st .counting-number").text(moduloPlacarEleicoes.formatNumber(OBJ.st)||0);$(".summary-counting #ap .counting-label").text("em apuração");$(".summary-counting #pe .counting-label").text(parseInt(OBJ.pe)<=1?"prefeito eleito":"prefeitos eleitos");$(".summary-counting #st .counting-label").text(parseInt(OBJ.st)<=1?"terá 2º turno":"terão 2º turno");moduloPlacarEleicoes.gauge(OBJ.gauge);},gauge:function(DEGRESS){$(".gauge-container .count-container .number").text(DEGRESS);var canvas=document.getElementById("canvas-progress");var COLOR="#3085df",WIDTH=85,HEIGHT=85,LINE_WIDTH=10,RADIUS=37.5,CTX=canvas.getContext("2d"),DEGRESS=((360*DEGRESS)/1000)*10||0;CTX.clearRect(0,0,WIDTH,HEIGHT);CTX.beginPath();CTX.strokeStyle="transparent";CTX.lineWidth=LINE_WIDTH;CTX.arc(WIDTH/2,HEIGHT/2,RADIUS,0,Math.PI*2,false);CTX.stroke();var radians=DEGRESS*Math.PI/180;CTX.beginPath();CTX.strokeStyle=COLOR;CTX.lineWidth=LINE_WIDTH;CTX.arc(WIDTH/2,HEIGHT/2,RADIUS,0-90*Math.PI/180,radians-90*Math.PI/180,false);CTX.stroke();},sortobjkey:function(item,field,reverse){var filtered=[];for(var i in item){filtered.push(item[i]);}filtered.sort(function(a,b){return(a[field]>b[field])?1:((a[field]<b[field])?-1:0);});if(reverse){filtered.reverse();}return filtered;},cardView:function(){return'<div class="mask"></div>		{{#ac}}			<a href="http://click.uol.com.br/?rf={{rf}}&u={{url}}">				<h3>					<span class="ci" title="{{cidade}} {{uf}}">{{cidade}}</span>					<span class="uf">{{uf}}</span>				</h3>				<div class="score-city-bars{{barraClasse}}{{#finishBar}} finish{{/finishBar}}">					<span class="bars" style="width:{{barra}}%">						<span class="bar white"></span>						<span class="text">							<span class="number">{{sap}}<span class="percent">%</span></span>							<span class="label">urnas apuradas</span>						</span>					</span>				</div>				<div class="score-city-candidatos{{#ssap}}{{classe}}{{eleito}}{{/ssap}}">					{{#ca}}						<div class="score-city-candidato candidato{{index}}" data-name="{{nu}}">							<span class="score-city-candidato-foto"><img src="{{imagem}}" {{#ssap}}title="{{nu}} - {{ps}}"{{/ssap}} onerror="moduloPlacarEleicoes.ImgError(this)"></span>							{{#ssap}}							<span class="score-city-candidato-partido">{{ps}}</span>							<span class="score-city-candidato-porcentagem">{{vp}}<span class="percent">%</span></span>							{{#labelReeleito}}<span class="label label-reeleito">Reeleito</span>{{/labelReeleito}}							{{#labelEleito}}<span class="label label-eleito">Eleito</span>{{/labelEleito}}							{{/ssap}}						</div>					{{/ca}}					{{^ssap}}<span class="apuracao-nao-iniciada">Apuração não iniciada</span>{{/ssap}}					{{#van}}<span class="nenhum-candidato">Nenhum candidato a prefeito</span>{{/van}}					{{#label2turno}}<span class="label label-2turno">2º turno</span>{{/label2turno}}				</div>				<span class="btn-apuracao-completa">Apuração completa <i class="icon-arrow-right"></i></span>			</a>		{{/ac}}';},applyCards:function(cards,update){if(!update){update=false;}var view=moduloPlacarEleicoes.cardView(),indexDoItem=-1,received=[],atual=1,linha=0,total=cards.length;if(moduloPlacarEleicoes.myCity.enabled){for(var c in cards){if(moduloPlacarEleicoes.myCity.cityId!=cards[c].id){received.push(cards[c]);}}}else{received=cards;}for(var c in received){if(received[c].hasOwnProperty("ca")){var candidatos=[];var van=0;for(var ca in received[c].ca){if(received[c].ca[ca].hasOwnProperty("van")&&received[c].ca[ca].van!="1"){candidatos.push(received[c].ca[ca]);}else{van++;}}received[c].ca=candidatos;if(parseFloat(received[c].sap.replace(",","."))>0&&received[c].ca.length==0&&van>0){values.van=true;}for(var rc in moduloPlacarEleicoes.replaceCities){if(received[c]&&received[c].ac==rc){if(received[c].ca[0]){received[c].ca[0].s=moduloPlacarEleicoes.replaceCities[rc][received[c].ca[0].ps]||0;}if(received[c].ca[1]){received[c].ca[1].s=moduloPlacarEleicoes.replaceCities[rc][received[c].ca[1].ps]||0;}}}if(received[c]&&received[c].ca[0]){received[c].ca[0].index=1;}if(received[c]&&received[c].ca[1]){received[c].ca[1].index=2;}received[c].labelEleito="";received[c].labelReeleito="";received[c].classe="";received[c].label2turno="";if(received[c].ca[0]&&received[c].ca[0].s.toString()!="0"&&received[c].ca[0].s.toString()!="3"){if(received[c].ca[0].s.toString()=="1"){received[c].labelEleito="Eleito";received[c].classe=" candidato-eleito candidato-eleito-1";}else{if(received[c].ca[0].s.toString()=="2"){received[c].labelReeleito="Reeleito";received[c].classe=" candidato-eleito candidato-eleito-1";}}}if(received[c].ca[1]&&received[c].ca[1].s.toString()!="0"&&received[c].ca[1].s.toString()!="3"){if(received[c].ca[1].s.toString()=="1"){received[c].labelEleito="Eleito";received[c].classe=" candidato-eleito candidato-eleito-2";}else{if(received[c].ca[1].s.toString()=="2"){received[c].labelReeleito="Reeleito";received[c].classe=" candidato-eleito candidato-eleito-2";}}}if((received[c].ca[0]&&received[c].ca[0].s.toString()=="3")||(received[c].ca[1]&&received[c].ca[1].s.toString()=="3")){received[c].label2turno="2º turno";received[c].classe=" segundo-turno";}}if(received[c].ca&&received[c].ca.length<2&&parseFloat(received[c].sap)===0){var diff=2-received[c].ca.length;for(var i=0;i<diff;i++){received[c].ca.push({imagem:moduloPlacarEleicoes.imagemCandidato(false,false,true)});}}if(update&&$("#city-"+received[c].id).length){$("#city-"+received[c].id).html(Mustache.render(view,received[c])).removeClass("candidatos-0 candidatos-1 candidatos-2").addClass("candidatos-"+(received[c].ca?received[c].ca.length:0));}else{if(!update){var template='<div class="placar-eleicoes-cidade candidatos-'+(received[c].ca?received[c].ca.length:0)+'" id="city-{{id}}">'+view+"</div>";$(".modulo-placar-eleicoes .placar-eleicoes-cidades-wrapper li.linha").eq(linha).append(Mustache.render(template,received[c]));if(atual%2==0){linha++;}atual++;}}}},findCity:function(ac){var cities=moduloPlacarEleicoes.cities;var city={};for(var c in cities){if(cities[c].id==ac){city=cities[c];break;}}return city;},imagemDefault:"data:image/png;base64,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",imagemCandidato:function(city,candidato,inicial){imagem=moduloPlacarEleicoes.imagemDefault;if(candidato.hasOwnProperty("num")){imagem="//el.imguol.com.br/2016/placar/"+city.uf+"/"+city.id+"_11_"+candidato.num+".jpg";}return imagem;},loopAtual:0,timer:0,animate:function(direction){if(!direction){direction=false;}$(".modulo-placar-eleicoes .placar-eleicoes-cidades-wrapper li.linha").eq(moduloPlacarEleicoes.loopAtual).removeClass("ativa").css("opacity",0);if(moduloPlacarEleicoes.loopAtual<moduloPlacarEleicoes.loops&&(direction==false||direction=="right")){moduloPlacarEleicoes.loopAtual++;}else{if(direction=="left"){moduloPlacarEleicoes.loopAtual--;if(moduloPlacarEleicoes.loopAtual==-1){moduloPlacarEleicoes.loopAtual=moduloPlacarEleicoes.loops;}}else{moduloPlacarEleicoes.loopAtual=0;}}window.setTimeout(function(){$(".modulo-placar-eleicoes .placar-eleicoes-cidades-wrapper li.linha").eq(moduloPlacarEleicoes.loopAtual).addClass("ativa").css("opacity",1);$(".modulo-placar-eleicoes .placar-eleicoes-cidades-wrapper li.linha").eq(moduloPlacarEleicoes.loopAtual).find(".placar-eleicoes-cidade").eq(0).css("margin-right","1px");moduloPlacarEleicoes.animaCards();},200);},animaCards:function(){moduloPlacarEleicoes.loops=$(".modulo-placar-eleicoes .placar-eleicoes-cidades-wrapper li.linha").length-1;moduloPlacarEleicoes.timer=setTimeout(function(){moduloPlacarEleicoes.animate();},10000);},fadeCards:function(){moduloPlacarEleicoes.animaCards();$(".modulo-placar-eleicoes .placar-eleicoes-cidades-wrapper").mouseover(function(){clearInterval(moduloPlacarEleicoes.timer);delete moduloPlacarEleicoes.timer;});$(".modulo-placar-eleicoes .placar-eleicoes-cidades-wrapper").mouseout(function(){clearInterval(moduloPlacarEleicoes.timer);moduloPlacarEleicoes.animaCards();});$(".placar-eleicoes-cidades .arrow-left").click(function(){clearInterval(moduloPlacarEleicoes.timer);moduloPlacarEleicoes.animate("left");});$(".placar-eleicoes-cidades .arrow-right").click(function(){clearInterval(moduloPlacarEleicoes.timer);moduloPlacarEleicoes.animate("right");});},findMyCity:function(id){var city=moduloPlacarEleicoes.findCity(id);$(".btn-suggest-form .input").text(city.name+" "+city.uf);moduloPlacarEleicoes.selectMyCity(id);},loadedConfig:function(){if(moduloPlacarEleicoes.config.hasOwnProperty("placar-eleicoes")){for(var c in moduloPlacarEleicoes.config["placar-eleicoes"]){moduloPlacarEleicoes.cards[moduloPlacarEleicoes.config["placar-eleicoes"][c].cidade]={id:moduloPlacarEleicoes.config["placar-eleicoes"][c].cidade,index:parseInt(moduloPlacarEleicoes.config["placar-eleicoes"][c].position.index),isLast:moduloPlacarEleicoes.config["placar-eleicoes"][c].position.isLast};}}moduloPlacarEleicoes.getSocketSummary();},gotSocketData:function(){if(moduloPlacarEleicoes.dataCities.hasOwnProperty("subchannels")){var subchannels=moduloPlacarEleicoes.dataCities.subchannels;for(var s in subchannels){var city=moduloPlacarEleicoes.findCity(subchannels[s].ac);if(moduloPlacarEleicoes.cards.hasOwnProperty(s)){var inicial=false;if(parseFloat(subchannels[s].sap.replace(",","."))<=0){inicial=true;}moduloPlacarEleicoes.cards[s].sap=moduloPlacarEleicoes.formatNumber(subchannels[s].sap);moduloPlacarEleicoes.cards[s].ssap=parseFloat(subchannels[s].sap.replace(",","."));moduloPlacarEleicoes.cards[s]=$.extend(moduloPlacarEleicoes.cards[s],subchannels[s]);moduloPlacarEleicoes.cards[s].cidade=city.name;moduloPlacarEleicoes.cards[s].uf=city.uf;moduloPlacarEleicoes.cards[s].url="http://placar.eleicoes.uol.com.br/2016/2turno/"+city.uf.toLowerCase()+"/"+moduloPlacarEleicoes.toSlug(city.name)+"/";moduloPlacarEleicoes.cards[s].rf="extrato-placar-g40-cidades&pos=extrato-placar-eleicoes";moduloPlacarEleicoes.cards[s].barraClasse=" alinhar-esquerda";if(inicial){moduloPlacarEleicoes.cards[s].sap="0,00";moduloPlacarEleicoes.cards[s].ssap=0;moduloPlacarEleicoes.cards[s].barra=0;}else{moduloPlacarEleicoes.cards[s].barra=parseFloat(moduloPlacarEleicoes.cards[s].sap);if(moduloPlacarEleicoes.cards[s].barra>=100){moduloPlacarEleicoes.cards[s].finishBar=true;}}if(subchannels[s].ca[0]){moduloPlacarEleicoes.cards[s].ca[0].imagem=moduloPlacarEleicoes.imagemCandidato(city,subchannels[s].ca[0],inicial);moduloPlacarEleicoes.cards[s].ca[0].index=1;moduloPlacarEleicoes.cards[s].ca[0].nu=moduloPlacarEleicoes.capitalizeName(subchannels[s].ca[0].nu);}if(subchannels[s].ca[1]){moduloPlacarEleicoes.cards[s].ca[1].imagem=moduloPlacarEleicoes.imagemCandidato(city,subchannels[s].ca[1],inicial);moduloPlacarEleicoes.cards[s].ca[1].index=2;moduloPlacarEleicoes.cards[s].ca[1].nu=moduloPlacarEleicoes.capitalizeName(subchannels[s].ca[1].nu);}}}}var storageCity=moduloPlacarEleicoes.getCookie("elcu");if(storageCity){moduloPlacarEleicoes.findMyCity(storageCity);}var cardsOrdenados=moduloPlacarEleicoes.sortobjkey(moduloPlacarEleicoes.cards,"index",false);moduloPlacarEleicoes.applyCards(cardsOrdenados);moduloPlacarEleicoes.container.removeClass("load").addClass("load");$(".modulo-placar-eleicoes-fonte").show();$(".modulo-placar-eleicoes .placar-eleicoes-cidades-wrapper li.linha").eq(0).css("opacity",1);$(".modulo-placar-eleicoes .placar-eleicoes-cidades-wrapper li.linha").eq(0).find(".placar-eleicoes-cidade").eq(0).css("margin-right","1px");moduloPlacarEleicoes.fadeCards();moduloPlacarEleicoes.subscribe();},gotMyCity:function(){var values=moduloPlacarEleicoes.myCity.values;var view=moduloPlacarEleicoes.cardView();var city=moduloPlacarEleicoes.findCity(moduloPlacarEleicoes.myCity.cityId);if(city.hasOwnProperty("name")){$(".score-my-city .tempo-real").hide();$(".score-my-city").removeClass(".city-selected").addClass("city-selected");$(".modulo-placar-eleicoes .score-my-city").find(".placar-eleicoes-cidade").remove();values.url="http://placar.eleicoes.uol.com.br/2016/2turno/"+city.uf.toLowerCase()+"/"+moduloPlacarEleicoes.toSlug(city.name)+"/";values.rf="extrato-placar-minha-cidade&pos=extrato-placar-eleicoes";var candidatos=[];var van=0;for(var ca in values.ca){if(values.ca[ca].hasOwnProperty("van")&&values.ca[ca].van!="1"){candidatos.push(values.ca[ca]);}else{van++;}}values.ca=candidatos;if(values.ca.length>2){values.ca=values.ca.splice(0,2);}if(parseFloat(values.sap)>0&&values.ca.length==0&&van>0){values.van=true;}values.sap=moduloPlacarEleicoes.formatNumber(values.sap);values.ssap=parseFloat(values.sap.replace(",","."));var inicial=false;if(parseFloat(values.sap.replace(",","."))<=0){inicial=true;}values.barraClasse=" alinhar-esquerda";if(inicial){values.sap="0,00";values.ssap=0;values.barra=0;}else{values.barra=parseFloat(values.sap.replace(",","."));if(values.barra>=100){values.finishBar=true;}}if(values.ca[0]){values.ca[0].nu=moduloPlacarEleicoes.capitalizeName(values.ca[0].nu);values.ca[0].imagem=moduloPlacarEleicoes.imagemCandidato(city,values.ca[0],inicial);values.ca[0].index=1;}if(values.ca[1]){values.ca[1].imagem=moduloPlacarEleicoes.imagemCandidato(city,values.ca[1],inicial);values.ca[1].nu=moduloPlacarEleicoes.capitalizeName(values.ca[1].nu);values.ca[1].index=2;}if(values.ca&&values.ca.length<2&&parseFloat(values.sap)===0){var diff=2-values.ca.length;for(var i=0;i<diff;i++){values.ca.push({imagem:moduloPlacarEleicoes.imagemCandidato(false,false,true)});}}for(var rc in moduloPlacarEleicoes.replaceCities){if(values&&values.ac==rc){if(values.ca[0]){values.ca[0].s=moduloPlacarEleicoes.replaceCities[rc][values.ca[0].ps]||0;}if(values.ca[1]){values.ca[1].s=moduloPlacarEleicoes.replaceCities[rc][values.ca[1].ps]||0;}}}if(parseFloat(values.sap)>0){values.labelEleito="";values.labelReeleito="";values.label2turno="";values.classe="";if(values.ca[0]&&values.ca[0].s.toString()!="0"&&values.ca[0].s.toString()!="3"){if(values.ca[0].s.toString()=="1"){values.labelEleito="Eleito";values.classe=" candidato-eleito candidato-eleito-1";}else{if(values.ca[0].s.toString()=="2"){values.labelReeleito="Reeleito";values.classe=" candidato-eleito candidato-eleito-1";}}}if(values.ca[1]&&values.ca[1].s.toString()!="0"&&values.ca[1].s.toString()!="3"){if(values.ca[1].s.toString()=="1"){values.labelEleito="Eleito";values.classe=" candidato-eleito candidato-eleito-2";}else{if(values.ca[1].s.toString()=="2"){values.labelReeleito="Reeleito";values.classe=" candidato-eleito candidato-eleito-2";}}}if((values.ca[0]&&values.ca[0].s.toString()=="3")||(values.ca[1]&&values.ca[1].s.toString()=="3")){values.label2turno="2º turno";values.classe=" segundo-turno";}}if($(".score-my-city").find(".placar-eleicoes-cidade").length){$(".score-my-city").find(".placar-eleicoes-cidade").html(Mustache.render(view,values)).removeClass("candidatos-0 candidatos-1 candidatos-2").addClass("candidatos-"+(values.ca?values.ca.length:0));}else{var template='<div class="placar-eleicoes-cidade candidatos-'+(values.ca?values.ca.length:0)+'" id="city-'+values.ac+'">'+view+"</div>";$(".score-my-city").append(Mustache.render(template,values));}}else{$(".btn-suggest-form .input").text("Buscar cidade");}},gotSocketSummary:function(){var g=0;var cities=moduloPlacarEleicoes.cities;for(var c in cities){cities[c].name=moduloPlacarEleicoes.capitalizeName(cities[c].name);}moduloPlacarEleicoes.getHtml({cities:cities});moduloPlacarEleicoes.hideCities=false;$(".btn-suggest-form").click(function(){if(!$(".btn-suggest-form").next(".user-city-container").is(".visible")){$(".btn-suggest-form").next(".user-city-container").addClass("visible");window.setTimeout(function(){moduloPlacarEleicoes.hideCities=true;},300);}else{$(".btn-suggest-form").next(".user-city-container").removeClass("visible");}});$(window).click(function(){if(moduloPlacarEleicoes.hideCities){if($(".user-city-container").is(".visible")){$(".user-city-container").removeClass("visible");}moduloPlacarEleicoes.hideCities=false;}});$(".user-city-container li").click(function(){var idCidade=$(this).attr("id");moduloPlacarEleicoes.selectMyCity(idCidade);$(".btn-suggest-form").next(".user-city-container").removeClass("visible");});if(moduloPlacarEleicoes.dataSummary.hasOwnProperty("oc")&&moduloPlacarEleicoes.dataSummary.hasOwnProperty("br")){g=Math.floor(((moduloPlacarEleicoes.tc-moduloPlacarEleicoes.dataSummary.br.ap)/moduloPlacarEleicoes.tc)*100);moduloPlacarEleicoes.summary({turno:"2ºT",totalCidades:moduloPlacarEleicoes.formatNumber(moduloPlacarEleicoes.tc),ap:(moduloPlacarEleicoes.dataSummary.br.ap)||0,pe:moduloPlacarEleicoes.dataSummary.br.pe,st:moduloPlacarEleicoes.dataSummary.br.st,gauge:moduloPlacarEleicoes.formatNumber(g)});}moduloPlacarEleicoes.getSocketData();},base:function(){if($(".modulo-placar-eleicoes-wrapper").length==0){$("#header").before('<div class="modulo-placar-eleicoes-wrapper">				<div class="modulo-placar-eleicoes" style="display: none; height: 0;"></div>			</div>');}moduloPlacarEleicoes.container=$(".modulo-placar-eleicoes");moduloPlacarEleicoes.getConfig();},reconectarResumo:2,resumoTimer:0,subscribeResumo:function(){var resumo=usocket.connect("placar-eleicoes-br-resumo");resumo.on("message",function(data){if(data.hasOwnProperty("br")){var g=Math.floor(((moduloPlacarEleicoes.tc-data.br.ap)/moduloPlacarEleicoes.tc)*100);moduloPlacarEleicoes.summary({turno:"2ºT",totalCidades:moduloPlacarEleicoes.formatNumber(moduloPlacarEleicoes.tc),ap:data.br.ap,pe:data.br.pe,st:data.br.st,gauge:g});}});resumo.on("error",function(err){moduloPlacarEleicoes.resumoTimer=setTimeout(function(){if(moduloPlacarEleicoes.reconectarResumo>0){moduloPlacarEleicoes.reconectarResumo--;moduloPlacarEleicoes.subscribeResumo();}else{clearInterval(moduloPlacarEleicoes.resumoTimer);moduloPlacarEleicoes.pollingResumo();}},1000);});},pollingResumo:function(){moduloPlacarEleicoes.getData("http://"+moduloPlacarEleicoes.rtw+"/sub?id=placar-eleicoes-br-resumo",function(data){moduloPlacarEleicoes.dataSummary=data;if(moduloPlacarEleicoes.dataSummary.hasOwnProperty("oc")&&moduloPlacarEleicoes.dataSummary.hasOwnProperty("br")){g=Math.floor(((moduloPlacarEleicoes.tc-moduloPlacarEleicoes.dataSummary.br.ap)/moduloPlacarEleicoes.tc)*100);moduloPlacarEleicoes.summary({turno:"2ºT",totalCidades:moduloPlacarEleicoes.formatNumber(moduloPlacarEleicoes.tc),ap:moduloPlacarEleicoes.dataSummary.br.ap,pe:moduloPlacarEleicoes.dataSummary.br.pe,st:moduloPlacarEleicoes.dataSummary.br.st,gauge:moduloPlacarEleicoes.formatNumber(g)});}},"UOLWebSocketCallback");},reconectarExtrato:2,extratoTimer:0,parseExtrato:function(data){if(data.hasOwnProperty("subchannels")){var subchannels=data.subchannels;for(var s in subchannels){if($(".score-my-city #city-"+s).length){moduloPlacarEleicoes.myCity.values=$.extend(moduloPlacarEleicoes.cards[c],subchannels[s]);moduloPlacarEleicoes.gotMyCity();break;}}for(var s in subchannels){for(var c in moduloPlacarEleicoes.cards){if(moduloPlacarEleicoes.cards[c].id==subchannels[s].ac){var city=moduloPlacarEleicoes.findCity(subchannels[s].ac);moduloPlacarEleicoes.cards[c]=$.extend(moduloPlacarEleicoes.cards[c],subchannels[s]);moduloPlacarEleicoes.cards[c].cidade=city.name;moduloPlacarEleicoes.cards[c].uf=city.uf;moduloPlacarEleicoes.cards[c].url="http://placar.eleicoes.uol.com.br/2016/2turno/"+city.uf.toLowerCase()+"/"+moduloPlacarEleicoes.toSlug(city.name)+"/";moduloPlacarEleicoes.cards[c].rf="extrato-placar-g40-cidades&pos=extrato-placar-eleicoes";moduloPlacarEleicoes.cards[c].sap=moduloPlacarEleicoes.formatNumber(subchannels[s].sap);moduloPlacarEleicoes.cards[s].ssap=parseFloat(subchannels[s].sap.replace(",","."));var inicial=false;if(parseFloat(subchannels[s].sap.replace(",","."))<=0){inicial=true;}moduloPlacarEleicoes.cards[c].barraClasse=" alinhar-esquerda";if(inicial){moduloPlacarEleicoes.cards[c].sap="0,00";moduloPlacarEleicoes.cards[c].ssap=0;moduloPlacarEleicoes.cards[c].barra=0;}else{moduloPlacarEleicoes.cards[c].barra=parseFloat(moduloPlacarEleicoes.cards[c].sap.replace(",","."));if(moduloPlacarEleicoes.cards[c].barra>=100){moduloPlacarEleicoes.cards[c].finishBar=true;}}moduloPlacarEleicoes.cards[c].ca[0].nu=moduloPlacarEleicoes.capitalizeName(subchannels[s].ca[0].nu);moduloPlacarEleicoes.cards[c].ca[0].imagem=moduloPlacarEleicoes.imagemCandidato(city,subchannels[s].ca[0],inicial);moduloPlacarEleicoes.cards[c].ca[0].index=1;moduloPlacarEleicoes.cards[c].ca[1].imagem=moduloPlacarEleicoes.imagemCandidato(city,subchannels[s].ca[1],inicial);moduloPlacarEleicoes.cards[c].ca[1].index=2;moduloPlacarEleicoes.cards[c].ca[1].nu=moduloPlacarEleicoes.capitalizeName(subchannels[s].ca[1].nu);break;}}}}moduloPlacarEleicoes.applyCards(moduloPlacarEleicoes.cards,true);},subscribeExtrato:function(){var extratos=usocket.connect("placar-eleicoes-extratos");extratos.on("message",function(data){moduloPlacarEleicoes.parseExtrato(data);});extratos.on("error",function(err){moduloPlacarEleicoes.extratoTimer=setTimeout(function(){extratos=undefined;if(moduloPlacarEleicoes.reconectarExtrato>0){moduloPlacarEleicoes.reconectarExtrato--;moduloPlacarEleicoes.subscribeExtrato();}else{clearInterval(moduloPlacarEleicoes.extratoTimer);moduloPlacarEleicoes.pollingExtrato();}},1000);});},pollingExtrato:function(){moduloPlacarEleicoes.getData("http://stc.eleicoes.uol.com/2016/2turno/extratos.js",function(data){moduloPlacarEleicoes.parseExtrato(data);},"callbackEleicoes");},subscribe:function(){usocket.config({domain:moduloPlacarEleicoes.rtw});moduloPlacarEleicoes.subscribeResumo();moduloPlacarEleicoes.subscribeExtrato();},init:function(){var guiaHome=false;if(location.href.toString().indexOf("guia.uol.com.br")>-1){if(location.hasOwnProperty("pathname")&&location.pathname.toString()=="/"){guiaHome=true;}}if(!guiaHome){if(!moduloPlacarEleicoes.container){moduloPlacarEleicoes.base();}}}};